# Goondan CLI Chatbot Sample
# 가장 단순한 CLI 채팅봇 - 초보자 첫 경험용
apiVersion: agents.example.io/v1alpha1
kind: Model
metadata:
  name: default-model
spec:
  provider: anthropic
  name: claude-sonnet-4-5

---

apiVersion: agents.example.io/v1alpha1
kind: Agent
metadata:
  name: assistant
spec:
  modelConfig:
    modelRef: { kind: Model, name: default-model }
  prompts:
    systemRef: "./prompts/system.md"

---

apiVersion: agents.example.io/v1alpha1
kind: Swarm
metadata:
  name: default
spec:
  entrypoint: { kind: Agent, name: assistant }
  agents:
    - { kind: Agent, name: assistant }
  policy:
    maxStepsPerTurn: 8

---

apiVersion: agents.example.io/v1alpha1
kind: Connector
metadata:
  name: cli
spec:
  type: cli

---

apiVersion: agents.example.io/v1alpha1
kind: Connection
metadata:
  name: cli-to-default
spec:
  connectorRef: { kind: Connector, name: cli }
  rules:
    - route:
        swarmRef: { kind: Swarm, name: default }
        instanceKeyFrom: "$.instanceKey"
        inputFrom: "$.text"
